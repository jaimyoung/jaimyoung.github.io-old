---
layout: post
title: "Surviving date-time, POSIX, unix timestamp... in R, Oracle, MySQL, perl"
date: 2013-01-12T16:16:00-08:00
---

<div class='post'>
Have to look this up over and over again... &nbsp;Tasks are oftentimes:<br /><ol><li>Convert string to/from (POSIX) date-time</li><li>Convert date-time to unix timestamp</li></ol><div>Here are snippets for them in various analytics environment, once and for all.</div><br /><h3>But, read this first and save trouble later!</h3>Having a sound conceptual framework first may sound boring but believe me, handle time zone properly once and for all. Otherwise, they will come back and bite you down the road.<br /><br /><ul><li>Timezone / UTC / GMT : <a href="http://en.wikipedia.org/wiki/Coordinated_Universal_Time">http://en.wikipedia.org/wiki/Coordinated_Universal_Time</a>&nbsp;</li><li>Unix epoch / timestamp :&nbsp;<a href="http://en.wikipedia.org/wiki/Unix_time">http://en.wikipedia.org/wiki/Unix_time</a></li><li>ISO 8601:&nbsp;<a href="https://en.wikipedia.org/wiki/ISO_8601">https://en.wikipedia.org/wiki/ISO_8601</a></li><li>Comic relief:&nbsp;<a href="http://xkcd.com/1179/">http://xkcd.com/1179/</a></li></ul><br />After this, you will understand why notations like "<span style="background-color: #f9f9f9; font-family: sans-serif; font-size: 13px; line-height: 19.1875px; text-align: center;">2013-06-24T10:21:11Z</span>" is far superior than most others.<br /><div><br /></div><h3>R</h3>Remember <b><a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/strptime.html">strptime</a> </b>is STRing to Posix Time class:<br /><br />Tautology one-liner<br /># when the string is in "standard" format:<br /><b id="internal-source-marker_0.5539831388741732" style="font-weight: normal;"><span style="font-family: 'Courier New'; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;">strftime(as.POSIXlt('2009-12-25 01:23:45'),format='%Y-%m-%d %H:%M:%S')</span><br /><span style="font-family: 'Courier New'; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;"></span><br /># when the string is in non-standard format:<br /><span style="font-family: 'Courier New'; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;"><b id="internal-source-marker_0.5539831388741732" style="font-family: 'Times New Roman'; font-size: medium; font-weight: normal; white-space: normal;"><span style="font-family: 'Courier New'; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;">strftime(as.POSIXlt('2009-12-25 01:23:45'),format='%Y-%m-%d %H:%M:%S')</span></b></span></b><br />TBD for unix timestamp<br /><br /><b>Date to R date</b><br />as.POSIXlt('2012-01-02T18:27:44.0000000',<br />+    format='%Y-%m-%dT%H:%M:%S.0000000', tz = 'GMT')<br /><br /><div><b>R date to unix timestamp.&nbsp;</b>This is simple.<br />as.numeric( R date)<br />e.g. as.numeric(as.POSIXlt('2012-01-02T18:27:44.0000000',<br />+    format='%Y-%m-%dT%H:%M:%S.0000000', tz = 'GMT'))<br /><br /><h3>Oracle</h3><br />select to_char( to_date('yyyy-mm-dd hh24:mi:ss', '2009-12-25 01:23:45'), 'mm/dd/yyyy hh24:mi:ss')<br />from dual;<br /><br /><br />TBD for unix timestamp<br /><br /><br /><br /><h3>MySQL</h3><b id="internal-source-marker_0.5539831388741732" style="font-weight: normal;"><span style="font-family: Verdana; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;">SELECT DATE_FORMAT(xxx,'%Y-%m');</span></b><br /><br /><br /><h3>PostgreSQL</h3>TBD<br /><br /><h3>Perl</h3><b id="internal-source-marker_0.5539831388741732" style="font-weight: normal;"><span style="font-family: Verdana; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;">use POSIX;</span><br /><span style="font-family: Verdana; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;">my $date = POSIX::strftime('%Y-%m-%d', # '%Y-%m-%d %H:00:00',</span><br /><span style="font-family: Verdana; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;"><span class="Apple-tab-span" style="white-space: pre;"> </span><span class="Apple-tab-span" style="white-space: pre;"> </span><span class="Apple-tab-span" style="white-space: pre;"> </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gmtime($timestamp));</span><br /><span style="font-family: Verdana; font-size: 13px; vertical-align: baseline; white-space: pre-wrap;"></span><br />TBD for unix timestamp</b><br /><b style="font-weight: normal;"><br /></b><h3><b>Java</b></h3><b style="font-weight: normal;">Save yourself trouble. Use <a href="http://joda-time.sourceforge.net/">Joda Time</a>.&nbsp;</b><br /><b style="font-weight: normal;"><br /></b><b style="font-weight: normal;"><br /></b><br /><br /></div></div>
